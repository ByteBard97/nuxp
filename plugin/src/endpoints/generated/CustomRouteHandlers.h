#pragma once
// Auto-generated by NUXP Codegen - DO NOT EDIT
// Implement these functions in your own .cpp files.

#include <string>

namespace NUXP {

/**
 * GET /api/selection - Get all currently selected art objects as handle IDs. Wraps AIMatchingArtSuite::GetSelectedArt (AIArtHandle*** output). Handler must iterate, register each handle, and free with MdMemoryDisposeHandle.
 * @returns JSON: { handles: number[], count: number }
 */
std::string HandleGetSelection();

/**
 * POST /api/selection/match - Get art objects matching type and attribute filters. Wraps AIMatchingArtSuite::GetMatchingArt with AIMatchingArtSpec.
 * @param body JSON: { type: number, whichAttr?: number, attr?: number }
 * @returns JSON: { handles: number[], count: number }
 */
std::string HandleGetMatchingArt(const std::string& body);

/**
 * GET /api/art/{id}/style - Get fill and stroke style of an art object. Wraps AIPathStyleSuite::GetPathStyle. Color is a tagged union — check color.kind to determine which fields are present (gray&#x2F;rgb&#x2F;cmyk&#x2F;pattern&#x2F;gradient&#x2F;custom&#x2F;none).
 * @param id Art handle ID from HandleManager::art
 * @returns JSON: { fillPaint: bool, strokePaint: bool, fill: object, stroke: object, evenodd: bool, resolution: number }
 */
std::string HandleGetPathStyle(const std::string& id);

/**
 * POST /api/art/{id}/style - Set fill and stroke style for an art object. Wraps AIPathStyleSuite::SetPathStyle. All fields optional — only provided fields are changed. For color, include kind + variant fields.
 * @param id Art handle ID from HandleManager::art
 * @param body JSON: { fillPaint?: bool, strokePaint?: bool, fill?: object, stroke?: object, evenodd?: bool }
 * @returns JSON: { success: bool }
 */
std::string HandleSetPathStyle(const std::string& id, const std::string& body);

/**
 * GET /api/art/{id}/segments - Get all path segments for a path art object. Wraps AIPathSuite::GetPathSegmentCount + GetPathSegments. Each segment has anchor (p), incoming handle (in), outgoing handle (out), and corner flag.
 * @param id Art handle ID (must be path art)
 * @returns JSON: { count: number, closed: bool, segments: object }
 */
std::string HandleGetPathSegments(const std::string& id);

/**
 * POST /api/art/{id}/segments - Set path segments for a path art object. Wraps AIPathSuite::SetPathSegments. Replaces segments starting at given index.
 * @param id Art handle ID (must be path art)
 * @param body JSON: { startIndex?: number, segments: object, closed?: bool }
 * @returns JSON: { success: bool }
 */
std::string HandleSetPathSegments(const std::string& id, const std::string& body);

/**
 * POST /api/artboard/check-bounds - Check if a rectangle fits within the active artboard bounds and compute clamped coordinates. Uses AIArtboardSuite to get artboard geometry and GeometryUtils for intersection.
 * @param body JSON: { x: number, y: number, width: number, height: number }
 * @returns JSON: { fits: bool, clampedX: number, clampedY: number }
 */
std::string HandleCheckBounds(const std::string& body);

/**
 * POST /api/selection/deselect-all - Deselect all currently selected art objects. Wraps AIMatchingArtSuite iteration + AIArtSuite::SetArtUserAttr to clear kArtSelected flag.
 * @returns JSON: { success: bool }
 */
std::string HandleDeselectAll();

/**
 * POST /api/selection/select - Select art objects by their handle IDs. Resolves handles from HandleManager::art, then sets kArtSelected attribute via AIArtSuite::SetArtUserAttr.
 * @param body JSON: { handles: number[] }
 * @returns JSON: { selected: number }
 */
std::string HandleSelectByHandles(const std::string& body);

/**
 * GET /api/query/text-frames - Query all text frame art objects in the current document. Wraps AIMatchingArtSuite::GetMatchingArt with type&#x3D;kTextFrameArt. Returns handles and basic properties for each frame.
 * @returns JSON: { frames: object, count: number }
 */
std::string HandleQueryTextFrames();

/**
 * GET /api/query/layers - Query all layers in the current document with their properties. Wraps AILayerSuite iteration (CountLayers + GetNthLayer + layer property getters).
 * @returns JSON: { layers: object, count: number }
 */
std::string HandleQueryLayers();

/**
 * POST /api/query/find - Find art objects by name. Iterates document art tree using AIArtSuite::GetArtFirstChild&#x2F;GetArtSibling, checking GetArtName against the query string.
 * @param body JSON: { name: string }
 * @returns JSON: { items: object, count: number }
 */
std::string HandleFindArtByName(const std::string& body);

/**
 * GET /api/art/{id}/area - Calculate the area of a path art object using the shoelace formula on linearized bezier segments. Uses GeometryUtils::CalculatePathArea.
 * @param id Art handle ID (must be path art)
 * @returns JSON: { area: number, signed_area: number }
 */
std::string HandleCalculatePathArea(const std::string& id);

/**
 * POST /api/text/create - Create a new point text frame. Uses AITextFrameSuite::NewPointText via ATEBridge (isolated ATE compilation unit).
 * @param body JSON: { x: number, y: number, orientation?: number, contents?: string }
 * @returns JSON: { success: bool, artId: number }
 */
std::string HandleCreateTextFrame(const std::string& body);

/**
 * GET /api/text/{id}/content - Get text content from a text frame via ATE TextRangeRef.
 * @param id Art handle ID (must be text frame art)
 * @returns JSON: { success: bool, artId: number, contents: string }
 */
std::string HandleGetTextContent(const std::string& id);

/**
 * POST /api/text/{id}/content - Set text content on a text frame. Replaces all existing text.
 * @param id Art handle ID (must be text frame art)
 * @param body JSON: { contents: string }
 * @returns JSON: { success: bool, artId: number }
 */
std::string HandleSetTextContent(const std::string& id, const std::string& body);

/**
 * GET /api/xmp - Get full document XMP metadata as an XML packet string. Uses AIDocumentSuite to retrieve the XMP metadata.
 * @returns JSON: { success: bool, xmp: string }
 */
std::string HandleGetDocumentXmp();

/**
 * POST /api/xmp - Set full document XMP metadata from an XML packet string. Pass xmp as null to clear metadata.
 * @param body JSON: { xmp: string }
 * @returns JSON: { success: bool, message: string }
 */
std::string HandleSetDocumentXmp(const std::string& body);

/**
 * GET /api/xmp/status - Check XMP availability and capabilities. Reports whether document-level and property-level XMP access is available.
 * @returns JSON: { success: bool, available: bool, propertyAccess: bool, capabilities: object }
 */
std::string HandleGetXmpStatus();

/**
 * POST /api/xmp/property - Get a specific XMP property by namespace URI and property name. Uses POST because GET with body is non-standard. Requires XMP Toolkit SDK.
 * @param body JSON: { namespace: string, name: string }
 * @returns JSON: { success: bool, namespace: string, name: string, value: string, found: bool }
 */
std::string HandleGetXmpProperty(const std::string& body);

/**
 * POST /api/xmp/property/set - Set a specific XMP property value. Requires XMP Toolkit SDK for property-level access.
 * @param body JSON: { namespace: string, name: string, value: string }
 * @returns JSON: { success: bool, namespace: string, name: string, value: string }
 */
std::string HandleSetXmpProperty(const std::string& body);

/**
 * POST /api/xmp/namespace - Register a custom XMP namespace with a suggested prefix. The actual prefix may differ if already registered. Requires XMP Toolkit SDK.
 * @param body JSON: { uri: string, prefix: string }
 * @returns JSON: { success: bool, uri: string, requestedPrefix: string, actualPrefix: string }
 */
std::string HandleRegisterXmpNamespace(const std::string& body);

/**
 * GET /api/doc/info - Aggregated document info: name (no extension), directory path, saved state, artboard dimensions in points and inches.
 * @returns JSON: { name: string, path: string, fullPath: string, saved: bool, artboards: object }
 */
std::string HandleGetDocumentInfo();

/**
 * GET /api/view/zoom - Get current view zoom level as percentage.
 * @returns JSON: { zoom: number }
 */
std::string HandleGetViewZoom();

/**
 * POST /api/view/zoom - Set view zoom level.
 * @param body JSON: { zoom: number }
 * @returns JSON: { success: bool, zoom: number }
 */
std::string HandleSetViewZoom(const std::string& body);

/**
 * POST /api/view/center - Center the view on a point in artwork coordinates.
 * @param body JSON: { x: number, y: number }
 * @returns JSON: { success: bool }
 */
std::string HandleSetViewCenter(const std::string& body);

/**
 * POST /api/view/fit-artboard - Zoom to fit the active artboard in the view.
 * @returns JSON: { success: bool }
 */
std::string HandleFitArtboardInView();

/**
 * POST /api/view/fit-selection - Zoom to fit the current selection in the view.
 * @returns JSON: { success: bool }
 */
std::string HandleFitSelectionInView();

/**
 * GET /api/query/path-items - Get all path items with bounds, fill, stroke info.
 * @returns JSON: { items: object, count: number }
 */
std::string HandleQueryPathItems();

/**
 * POST /api/query/count - Count art items on a specific layer.
 * @param body JSON: { layer: string }
 * @returns JSON: { count: number, layer: string }
 */
std::string HandleCountItemsOnLayer(const std::string& body);

} // namespace NUXP
