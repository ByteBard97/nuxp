#pragma once
// Auto-generated by NUXP Codegen - DO NOT EDIT

#include "../SSE.hpp"
#include <nlohmann/json.hpp>
#include <string>
#include <vector>

namespace Events {

/**
 * Fired when the document selection changes
 * @param count Number of selected items
 * @param selectedIds Array of art handle IDs
 */
inline void EmitSelection(int count, const std::vector<int>& selectedIds) {
    nlohmann::json data;
    data["count"] = count;
    data["selectedIds"] = selectedIds;
    SSE::Broadcast("selection", data);
}

/**
 * Fired on document lifecycle events (open, close, switch)
 * @param type Event type
 * @param documentName Name of the document
 */
inline void EmitDocument(const std::string& type, const std::string& documentName) {
    nlohmann::json data;
    data["type"] = type;
    data["documentName"] = documentName;
    SSE::Broadcast("document", data);
}

/**
 * Fired when layers are added, removed, or reordered
 * @param layerCount Current number of layers
 */
inline void EmitLayers(int layerCount) {
    nlohmann::json data;
    data["layerCount"] = layerCount;
    SSE::Broadcast("layers", data);
}

/**
 * Fired when art objects are modified
 * @param artIds IDs of changed art objects
 * @param changeType Type of change
 */
inline void EmitArtChanged(const std::vector<int>& artIds, const std::string& changeType) {
    nlohmann::json data;
    data["artIds"] = artIds;
    data["changeType"] = changeType;
    SSE::Broadcast("artChanged", data);
}

/**
 * Sent on initial connection with plugin version info
 * @param version Plugin version string
 * @param build Build timestamp
 */
inline void EmitVersion(const std::string& version, const std::string& build) {
    nlohmann::json data;
    data["version"] = version;
    data["build"] = build;
    SSE::Broadcast("version", data);
}

} // namespace Events
